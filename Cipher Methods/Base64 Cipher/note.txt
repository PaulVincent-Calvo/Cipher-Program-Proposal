not final
still  need some rework to be compatible with certain features